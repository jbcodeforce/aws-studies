<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.3.1, mkdocs-material-8.4.1"><title>EKS - AWS Studies</title><link rel=stylesheet href=../../assets/stylesheets/main.69437709.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.cbb835fc.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary data-md-color-accent> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#elastic-kubernetes-service class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="AWS Studies" class="md-header__button md-logo" aria-label="AWS Studies" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> AWS Studies </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> EKS </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/jbcodeforce/aws-studies.git title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="AWS Studies" class="md-nav__button md-logo" aria-label="AWS Studies" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> AWS Studies </label> <div class=md-nav__source> <a href=https://github.com/jbcodeforce/aws-studies.git title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Infrastructure <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Infrastructure data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Infrastructure </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../infra/ class=md-nav__link> EC2-others </a> </li> <li class=md-nav__item> <a href=../../infra/networking/ class=md-nav__link> Network </a> </li> <li class=md-nav__item> <a href=../../infra/security/ class=md-nav__link> Security </a> </li> <li class=md-nav__item> <a href=../../infra/storage/ class=md-nav__link> S3-Storage </a> </li> <li class=md-nav__item> <a href=../../infra/route53/ class=md-nav__link> Route 53 </a> </li> <li class=md-nav__item> <a href=../../monitoring/monitoring/ class=md-nav__link> Monitoring </a> </li> <li class=md-nav__item> <a href=../../infra/messaging/ class=md-nav__link> Messaging </a> </li> <li class=md-nav__item> <a href=../../kinesis/ class=md-nav__link> Kinesis* </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Architecture <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Architecture data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../sa/well-architectured/ class=md-nav__link> Well Architectured </a> </li> <li class=md-nav__item> <a href=../../sa/sol-design/ class=md-nav__link> Solution design </a> </li> <li class=md-nav__item> <a href=../../sa/psa-role/ class=md-nav__link> SA </a> </li> <li class=md-nav__item> <a href=../../sa/saas/ class=md-nav__link> SaaS </a> </li> <li class=md-nav__item> <a href=../../sa/resilience/ class=md-nav__link> Resilience </a> </li> <li class=md-nav__item> <a href=../../templ/ class=md-nav__link> Conduct Design session </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../analytics/ class=md-nav__link> Analytics </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Data <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Data data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../data/ class=md-nav__link> RDS-Aurora-ES </a> </li> <li class=md-nav__item> <a href=../../data/dynamodb/ class=md-nav__link> DynamoDB </a> </li> <li class=md-nav__item> <a href=../../data/data-lake/ class=md-nav__link> Data Lake </a> </li> <li class=md-nav__item> <a href=../../data/redshift/ class=md-nav__link> RedShift </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../ai-ml/ class=md-nav__link> AI-ML </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7 checked> <label class=md-nav__link for=__nav_7> Serverless <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Serverless data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Serverless </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../lambda/ class=md-nav__link> Lambda </a> </li> <li class=md-nav__item> <a href=../apigtw/ class=md-nav__link> API Gateway </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> EKS <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> EKS </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#major-characteristics class=md-nav__link> Major characteristics </a> </li> <li class=md-nav__item> <a href=#cluster-management class=md-nav__link> Cluster management </a> </li> <li class=md-nav__item> <a href=#ecs-comparisons class=md-nav__link> ECS comparisons </a> </li> <li class=md-nav__item> <a href=#what-to-do-the-first-time class=md-nav__link> What to do the first time </a> </li> <li class=md-nav__item> <a href=#working-with-cluster class=md-nav__link> Working with cluster </a> <nav class=md-nav aria-label="Working with cluster"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#delete-cluster class=md-nav__link> Delete cluster </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#eks-blueprint class=md-nav__link> EKS Blueprint </a> <nav class=md-nav aria-label="EKS Blueprint"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#concepts class=md-nav__link> Concepts </a> </li> <li class=md-nav__item> <a href=#eks-with-cdk-hands-on class=md-nav__link> EKS with CDK Hands-on </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#demonstrate-eks class=md-nav__link> Demonstrate EKS </a> </li> <li class=md-nav__item> <a href=#deeper-dive class=md-nav__link> Deeper Dive </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../eventbridge/ class=md-nav__link> EventBridge </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8> Playground <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Playground data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Playground </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../playground/gettingstarted/ class=md-nav__link> Getting Started IAM-EC2 </a> </li> <li class=md-nav__item> <a href=../../playground/rds/ class=md-nav__link> RDS </a> </li> <li class=md-nav__item> <a href=../../playground/rt-data-processing/ class=md-nav__link> Data processing </a> </li> <li class=md-nav__item> <a href=../../playground/spark-emr/ class=md-nav__link> Analytics on EMR </a> </li> <li class=md-nav__item> <a href=../../playground/ecs/ class=md-nav__link> ECS </a> </li> <li class=md-nav__item> <a href=../../playground/s3-org-billing/ class=md-nav__link> S3 storage lens </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/big-data-tenant-analytics/ class=md-nav__link> SaaS demo </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9 type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9> Coding <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Coding data-md-level=1> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Coding </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../coding/ class=md-nav__link> Practices </a> </li> <li class=md-nav__item> <a href=../../coding/cloudFormation/ class=md-nav__link> CloudFormation </a> </li> <li class=md-nav__item> <a href=../../coding/cdk/ class=md-nav__link> CDK </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io class=md-nav__link> Return to main </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#major-characteristics class=md-nav__link> Major characteristics </a> </li> <li class=md-nav__item> <a href=#cluster-management class=md-nav__link> Cluster management </a> </li> <li class=md-nav__item> <a href=#ecs-comparisons class=md-nav__link> ECS comparisons </a> </li> <li class=md-nav__item> <a href=#what-to-do-the-first-time class=md-nav__link> What to do the first time </a> </li> <li class=md-nav__item> <a href=#working-with-cluster class=md-nav__link> Working with cluster </a> <nav class=md-nav aria-label="Working with cluster"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#delete-cluster class=md-nav__link> Delete cluster </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#eks-blueprint class=md-nav__link> EKS Blueprint </a> <nav class=md-nav aria-label="EKS Blueprint"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#concepts class=md-nav__link> Concepts </a> </li> <li class=md-nav__item> <a href=#eks-with-cdk-hands-on class=md-nav__link> EKS with CDK Hands-on </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#demonstrate-eks class=md-nav__link> Demonstrate EKS </a> </li> <li class=md-nav__item> <a href=#deeper-dive class=md-nav__link> Deeper Dive </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/jbcodeforce/aws-studies.git/edit/master/docs/serverless/eks.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=elastic-kubernetes-service><a href=https://docs.aws.amazon.com/eks/latest/userguide/what-is-eks.html>Elastic Kubernetes Service</a><a class=headerlink href=#elastic-kubernetes-service title="Permanent link">&para;</a></h1> <p><a href=https://aws.amazon.com/eks/ >Amazon EKS</a> is a fully managed service to run Kubernetes. </p> <p><img alt src=../diagrams/eks-ec2.drawio.svg></p> <p>It is integrated with VPC for isolation, IAM for authentication, ELB for load distribution, and ECR for container image registry.</p> <h2 id=major-characteristics>Major characteristics<a class=headerlink href=#major-characteristics title="Permanent link">&para;</a></h2> <ul> <li>Scale K8s control plane across multiple AZs.</li> <li>No need to install, operate and maintain k8s cluster.</li> <li>Automatically scales control plane instances based on load, detects and replaces unhealthy control plane instance.</li> <li>It supports EC2 to deploy worker nodes or Fargate to deploy serverless containers or <a href=../../infra/#aws-outposts>on to AWS Outposts</a>.</li> <li>Fully compatible with other CNSF kubernetes. </li> <li>Can be deployed on-premises wwith <a href=https://distro.eks.amazonaws.com/ >Amazon EKS Distro (EKS-D)</a> distribution.</li> </ul> <p>The EKS node types are:</p> <ul> <li><strong>Managed node groups</strong>: EC2 (could be On-demand or spot instances) created by you but managed by AWS, assigned to a ASG managed by EKS. </li> <li><strong>Self-managed nodes</strong>: nodes are managed by you and attached to EKS cluster by using an ASG.</li> <li><strong>AWS Fargate</strong> which represents a cost optimized deployment for EKS worker nodes. Each time a pod is created it is assigned to a EC2 instance. It works with ALB.</li> </ul> <p>Data volumes (EBS, EFS, FSx) are defined with StorageClass and they need to have Container Storage Interface compliant driver.</p> <p>See <a href=https://aws.amazon.com/eks/pricing/ >Pricing calculator</a>: pay for cluster control plane, EC3 instance or Fargate or AWS outposts.</p> <h2 id=cluster-management>Cluster management<a class=headerlink href=#cluster-management title="Permanent link">&para;</a></h2> <ul> <li>EKS runs a single tenant Kubernetes control plane for each cluster. 3 <code>etcd</code> instance in 3 AZs within one region. </li> <li>EKS uses IAM to provide authentication to our Kubernetes cluster, and k8s RBAC for authorization.</li> </ul> <h2 id=ecs-comparisons>ECS comparisons<a class=headerlink href=#ecs-comparisons title="Permanent link">&para;</a></h2> <ul> <li>An EC2 instance with the ECS agent installed and configured is called a container instance. In Amazon EKS, it is called a worker node.</li> <li>An ECS container is called a task. In Amazon EKS, it is called a pod.</li> <li>While Amazon ECS runs on AWS native technology, Amazon EKS runs Kubernetes.</li> </ul> <h2 id=what-to-do-the-first-time>What to do the first time<a class=headerlink href=#what-to-do-the-first-time title="Permanent link">&para;</a></h2> <ol> <li><a href=https://www.eksworkshop.com/020_prerequisites/k8stools/ >Install kubernetes tools</a></li> <li> <p>Download <code>eksctl</code> (<a href=https://github.com/weaveworks/eksctl>eksctl.io</a>). (It also installs <code>kubectl</code>)</p> <div class=highlight><pre><span></span><code>brew tap weaveworks/tap
brew install weaveworks/tap/eksctl
<span class=c1># Verify it</span>
eksctl version
</code></pre></div> </li> <li> <p>Be sure to have a EC2 key-pair, if not, create one with the following command:</p> <div class=highlight><pre><span></span><code>aws ec2 create-key-pair --region us-west-2 --key-name myKeyPair
</code></pre></div> </li> <li> <p>Create IAM Role with EKS Cluster role and attach the required Amazon EKS IAM managed policy to it. Kubernetes clusters managed by Amazon EKS make calls to other AWS services on your behalf to manage the resources that you use with the service.</p> <div class=highlight><pre><span></span><code><span class=c1># under the  labs/eks folder</span>
aws iam create-role <span class=se>\</span>
    --role-name myAmazonEKSClusterRole <span class=se>\</span>
    --assume-role-policy-document file://<span class=s2>&quot;eks-cluster-role-trust-policy.json&quot;</span>
<span class=c1># Attach the required Amazon EKS managed IAM policy to the role.</span>
aws iam attach-role-policy <span class=se>\</span>
    --policy-arn arn:aws:iam::aws:policy/AmazonEKSClusterPolicy <span class=se>\</span>
    --role-name myAmazonEKSClusterRole
</code></pre></div> </li> </ol> <h2 id=working-with-cluster>Working with cluster<a class=headerlink href=#working-with-cluster title="Permanent link">&para;</a></h2> <ol> <li> <p>Create cluster to be deployed on EC2, in a VPC, subnets, and security groups. It can be done with different ways:</p> <ul> <li>Using CloudFormation and a predifined stack: </li> </ul> <div class=highlight><pre><span></span><code>aws cloudformation create-stack <span class=se>\</span>
    --region us-west-2 <span class=se>\</span>
    --stack-name my-eks-vpc-stack <span class=se>\</span>
    --template-url https://s3.us-west-2.amazonaws.com/amazon-eks/cloudformation/2020-10-29/amazon-eks-vpc-private-subnets.yaml
</code></pre></div> <ul> <li>Using <code>eksctl create cluster</code> will use CloudFormation to deploy a EKS cluster with managed nodes:</li> </ul> <div class=highlight><pre><span></span><code>eksctl create cluster <span class=se>\</span>
    --name my-cluster <span class=se>\</span>
    --region us-west-2 <span class=se>\</span>
    --with-oidc <span class=se>\</span>
    --ssh-access <span class=se>\</span>
    --ssh-public-key my-ke-ypair <span class=se>\</span>
    --instance-types<span class=o>=</span>m5.xlarge <span class=se>\</span>
    --managed
</code></pre></div> <ul> <li>Using CDK see examples in <a href=https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_eks-readme.html#quick-start>the product doc</a>, see also a CDK example in <code>labs/cdk/eks-single</code> folder or the <code>labs/eks/eks-cdk</code> folder for a python based deployment.</li> </ul> <p>Find cluster credentials were added in <code>~/.kube/config</code></p> </li> <li> <p>As an alternate, create Fargate profile to declare which pods run on Fargate. </p> <ul> <li><a href=https://docs.aws.amazon.com/eks/latest/userguide/fargate-getting-started.html>See instructions EKS fargate getting started</a>. </li> <li>Fargate profiles are associated to namespaces. </li> <li>Only private subnets are supported for pods that are running on Fargate. </li> <li>Pods that match a selector are scheduled on Fargate. </li> <li>Kubernetes affinity/anti-affinity rules do not apply and aren't necessary with Amazon EKS Fargate pod.</li> </ul> </li> <li> <p>Verify nodes and pods</p> <div class=highlight><pre><span></span><code>kubectl get nodes -o wide
<span class=c1># across namespaces</span>
kubectl get pods --all-namespaces -o wide
</code></pre></div> </li> <li> <p>Add resources like node group, with IAM role of WorkerNode </p> <p>IAM Users and Roles are bound to an EKS Kubernetes cluster via a ConfigMap named <code>aws-auth</code>.</p> </li> <li> <p>Deploy the </p> </li> </ol> <h3 id=delete-cluster>Delete cluster<a class=headerlink href=#delete-cluster title="Permanent link">&para;</a></h3> <ul> <li>List all services</li> </ul> <div class=highlight><pre><span></span><code>kubectl get svc --all-namespaces
</code></pre></div> <ul> <li>Delete any services that have an associated EXTERNAL-IP value. These services are fronted by an Elastic Load Balancing load balancer, and you must delete them in Kubernetes to allow the load balancer and associated resources to be properly released.</li> </ul> <div class=highlight><pre><span></span><code>kubectl delete svc &lt;service-name&gt;
</code></pre></div> <ul> <li>Delete the cluster</li> </ul> <div class=highlight><pre><span></span><code>estctl delete cluster --name &lt;cluster name&gt;
</code></pre></div> <h2 id=eks-blueprint><a href=https://aws.amazon.com/blogs/containers/bootstrapping-clusters-with-eks-blueprints/ >EKS Blueprint</a><a class=headerlink href=#eks-blueprint title="Permanent link">&para;</a></h2> <p>The EKS Blueprints is an open-source development framework that abstracts the complexities of cloud infrastructure from developers.</p> <h3 id=concepts>Concepts<a class=headerlink href=#concepts title="Permanent link">&para;</a></h3> <ul> <li>A blueprint combines clusters, add-ons, and teams into a cohesive object that can be deployed as a whole. </li> <li>Team is a logical grouping of IAM identities that has access to a Kubernetes namespace(s), or cluster administrative access depending upon the team type.</li> <li>Once a blueprint is configured, it can be easily deployed across any number of AWS accounts and regions.</li> <li>Blueprints also leverage GitOps tooling to facilitate cluster bootstrapping and workload onboarding.</li> </ul> <p><img alt src=https://d2908q01vomqb2.cloudfront.net/fe2ef495a1152561572949784c16bf23abb28057/2022/04/18/eks-blueprints-ref-951x1024.png></p> <h3 id=eks-with-cdk-hands-on>EKS with CDK Hands-on<a class=headerlink href=#eks-with-cdk-hands-on title="Permanent link">&para;</a></h3> <p>This is a summary of the steps to get a running demonstration of creating EKS and Day 2 add-on.</p> <h4 id=single-cluster>Single Cluster<a class=headerlink href=#single-cluster title="Permanent link">&para;</a></h4> <ul> <li>Using CDK typescript here are the commands:</li> </ul> <div class=highlight><pre><span></span><code>mkdir my-eks-blueprints
<span class=nb>cd</span> my-eks-blueprints
cdk init app --language typescript
npm i typescript@~4.8.4
npm i @aws-quickstart/eks-blueprints
</code></pre></div> <p><a href=https://github.com/jbcodeforce/aws-studies/tree/main/labs/cdk/eks-single>See the code in labs/cdk/eks-single</a></p> <ul> <li>Create a Cluster using the eks-blueprints package, which is published as a npm module.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=kr>as</span><span class=w> </span><span class=nx>cdk</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s1>&#39;aws-cdk-lib&#39;</span><span class=p>;</span><span class=w></span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>Construct</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s1>&#39;constructs&#39;</span><span class=p>;</span><span class=w></span>
<span class=k>import</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=kr>as</span><span class=w> </span><span class=nx>blueprints</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s1>&#39;@aws-quickstart/eks-blueprints&#39;</span><span class=p>;</span><span class=w></span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>class</span><span class=w> </span><span class=nx>ClusterConstruct</span><span class=w> </span><span class=k>extends</span><span class=w> </span><span class=nx>Construct</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=kr>constructor</span><span class=p>(</span><span class=nx>scope</span><span class=o>:</span><span class=w> </span><span class=nx>Construct</span><span class=p>,</span><span class=w> </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=nx>string</span><span class=p>,</span><span class=w> </span><span class=nx>props</span><span class=o>?:</span><span class=w> </span><span class=nx>cdk</span><span class=p>.</span><span class=nx>StackProps</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=k>super</span><span class=p>(</span><span class=nx>scope</span><span class=p>,</span><span class=w> </span><span class=nx>id</span><span class=p>);</span><span class=w></span>

<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>account</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>props</span><span class=o>?</span><span class=p>.</span><span class=nx>env</span><span class=o>?</span><span class=p>.</span><span class=nx>account</span><span class=o>!</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>region</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>props</span><span class=o>?</span><span class=p>.</span><span class=nx>env</span><span class=o>?</span><span class=p>.</span><span class=nx>region</span><span class=o>!</span><span class=p>;</span><span class=w></span>

<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>blueprint</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>blueprints</span><span class=p>.</span><span class=nx>EksBlueprint</span><span class=p>.</span><span class=nx>builder</span><span class=p>()</span><span class=w></span>
<span class=w>    </span><span class=p>.</span><span class=nx>account</span><span class=p>(</span><span class=nx>account</span><span class=p>)</span><span class=w></span>
<span class=w>    </span><span class=p>.</span><span class=nx>region</span><span class=p>(</span><span class=nx>region</span><span class=p>)</span><span class=w></span>
<span class=w>    </span><span class=p>.</span><span class=nx>addOns</span><span class=p>()</span><span class=w></span>
<span class=w>    </span><span class=p>.</span><span class=nx>teams</span><span class=p>()</span><span class=w></span>
<span class=w>    </span><span class=p>.</span><span class=nx>build</span><span class=p>(</span><span class=nx>scope</span><span class=p>,</span><span class=w> </span><span class=nx>id</span><span class=o>+</span><span class=s1>&#39;-stack&#39;</span><span class=p>);</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <p>And in the app</p> <div class=highlight><pre><span></span><code><span class=ch>#!/usr/bin/env node</span><span class=w></span>
<span class=k>import</span><span class=w> </span><span class=s1>&#39;source-map-support/register&#39;</span><span class=p>;</span><span class=w></span>
<span class=k>import</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=kr>as</span><span class=w> </span><span class=nx>cdk</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s1>&#39;aws-cdk-lib&#39;</span><span class=p>;</span><span class=w></span>
<span class=k>import</span><span class=w> </span><span class=nx>ClusterConstruct</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s1>&#39;../lib/my-eks-blueprints-stack&#39;</span><span class=p>;</span><span class=w></span>

<span class=kd>const</span><span class=w> </span><span class=nx>app</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=nx>cdk</span><span class=p>.</span><span class=nx>App</span><span class=p>();</span><span class=w></span>
<span class=kd>const</span><span class=w> </span><span class=nx>account</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>CDK_DEFAULT_ACCOUNT</span><span class=o>!</span><span class=p>;</span><span class=w></span>
<span class=kd>const</span><span class=w> </span><span class=nx>region</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>CDK_DEFAULT_REGION</span><span class=p>;</span><span class=w></span>
<span class=kd>const</span><span class=w> </span><span class=nx>env</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>account</span><span class=p>,</span><span class=w> </span><span class=nx>region</span><span class=w> </span><span class=p>}</span><span class=w></span>

<span class=ow>new</span><span class=w> </span><span class=nx>ClusterConstruct</span><span class=p>(</span><span class=nx>app</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;cluster&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>env</span><span class=w> </span><span class=p>});</span><span class=w></span>
</code></pre></div> <ul> <li>Deploy the cluster: <code>cdk deploy cluster-stack</code>, then config kubectl</li> </ul> <div class=highlight><pre><span></span><code><span class=nb>export</span> <span class=nv>KUBE_CONFIG</span><span class=o>=</span><span class=k>$(</span>aws cloudformation describe-stacks --stack-name cluster-stack <span class=p>|</span> jq -r <span class=s1>&#39;.Stacks[0].Outputs[] | select(.OutputKey|match(&quot;ConfigCommand&quot;))| .OutputValue&#39;</span><span class=k>)</span>
<span class=nv>$KUBE_CONFIG</span>
kubectl get svc
</code></pre></div> <ul> <li><a href=https://github.com/aws-samples/cdk-eks-blueprints-patterns>EKS Blueprints Patterns</a></li> </ul> <h4 id=on-board-teams>On board teams<a class=headerlink href=#on-board-teams title="Permanent link">&para;</a></h4> <p>We want two teams: platform and application teams.</p> <div class=highlight><pre><span></span><code>mkdir teams <span class=o>&amp;&amp;</span> <span class=nb>cd</span> teams <span class=o>&amp;&amp;</span> mkdir platform-team <span class=o>&amp;&amp;</span> mkdir application-team
aws iam create-user --user-name platform
aws iam create-user --user-name application
</code></pre></div> <p>Under <code>platform-team</code> create a <code>init.ts</code>, Add a IAM Principal to add users to the platform using their IAM credentials</p> <div class=highlight><pre><span></span><code>import { ArnPrincipal } from &quot;aws-cdk-lib/aws-iam&quot;;
import { PlatformTeam } from &#39;@aws-quickstart/eks-blueprints&#39;;

export class TeamPlatform extends PlatformTeam {
    constructor(accountID: string) {
        super({
            name: &quot;platform&quot;,
            users: [new ArnPrincipal(`arn:aws:iam::${accountID}:user/platform`)]
        })
    }
}
</code></pre></div> <p>And do the same for application team. Then modify the cluster definition to add team instances: The <code>cdk deploy cluster-stack</code> will create a new namespace for the team application.</p> <div class=highlight><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>TeamPlatform</span><span class=p>,</span><span class=w> </span><span class=nx>TeamApplication</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s1>&#39;../teams&#39;</span><span class=p>;</span><span class=w> </span>
<span class=p>...</span><span class=w></span>
<span class=p>.</span><span class=nx>teams</span><span class=p>(</span><span class=ow>new</span><span class=w> </span><span class=nx>TeamPlatform</span><span class=p>(</span><span class=nx>account</span><span class=p>),</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=nx>TeamApplication</span><span class=p>(</span><span class=s1>&#39;burnham&#39;</span><span class=p>,</span><span class=nx>account</span><span class=p>))</span><span class=w></span>
</code></pre></div> <p>A command like <code>kubectl describe role -n team-burnham</code> gives information on the role and actions that member can do.</p> <p>Using Kubernetes constructs such as namespaces, quotas, and network policieswe can prevent applications deployed in different namespaces from communicating with each other.</p> <ul> <li> <p>To see the application user access limitation, login to the console in incognito mode, use the account ID, application as user and be sure to have setup a password in IAM for the <code>application</code> user. Once logged assume the role of cluster-stack-teamburnhamAccessRole3.... Then go to the EKS console. We should see an error message that the Team Burnham user is NOT allowed to list deployments in all the namespaces. But selecting the <code>team-burnham</code> namespace we should see pods and other elements.</p> </li> <li> <p>The user platform with the role <code>cluster-stack-teamplatformAccessRole5...</code> can access the cluster as admin and see all namespaces.</p> </li> </ul> <h4 id=adding-add-ons>Adding add-ons<a class=headerlink href=#adding-add-ons title="Permanent link">&para;</a></h4> <p><a href=https://aws-quickstart.github.io/cdk-eks-blueprints/addons/ >See the list of supported add-ons</a>. To add them use the addOn() function in the blueprint:</p> <div class=highlight><pre><span></span><code>  const blueprint = blueprints.EksBlueprint.builder()
    .account(account)
    .region(region)
    .addOns(new blueprints.ClusterAutoScalerAddOn)
    .teams(new TeamPlatform(account), new TeamApplication(&#39;burnham&#39;,account))
    .build(scope, id+&#39;-stack&#39;);
  }
</code></pre></div> <h2 id=demonstrate-eks>Demonstrate EKS<a class=headerlink href=#demonstrate-eks title="Permanent link">&para;</a></h2> <p>Based on the <a href=](https://www.eksworkshop.com/)>EKS workshop</a>, using Cloud9, quick summary of steps</p> <ol> <li><a href=https://www.eksworkshop.com/020_prerequisites/workspace/ >Create workspace in Cloud9</a></li> <li> <p><a href=https://www.eksworkshop.com/020_prerequisites/k8stools/ >Install kubernetes tools</a>. The list below is for the new versions:</p> <ul> <li> <p>Update the CDK to be version 2.5</p> <div class=highlight><pre><span></span><code>rm <span class=k>$(</span>which cdk<span class=k>)</span>
npm install -g aws-cdk@2.50.0
cdk --version
</code></pre></div> </li> <li> <p>Install kubectl and AWS CLI</p> <div class=highlight><pre><span></span><code>sudo curl --silent --location -o /usr/local/bin/kubectl https://s3.us-west-2.amazonaws.com/amazon-eks/1.23.7/2022-06-29/bin/linux/amd64/kubectl

sudo chmod +x /usr/local/bin/kubectl

curl <span class=s2>&quot;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip&quot;</span> -o <span class=s2>&quot;awscliv2.zip&quot;</span>
unzip awscliv2.zip
sudo ./aws/install
</code></pre></div> </li> <li> <p>Install jq, gettext...</p> <div class=highlight><pre><span></span><code>sudo yum -y install jq gettext bash-completion moreutils
<span class=c1># Verify the path</span>
<span class=k>for</span> <span class=nb>command</span> <span class=k>in</span> kubectl jq envsubst aws
<span class=k>do</span>
    which <span class=nv>$command</span> <span class=p>&amp;</span>&gt;/dev/null <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=s2>&quot;</span><span class=nv>$command</span><span class=s2> in path&quot;</span> <span class=o>||</span> <span class=nb>echo</span> <span class=s2>&quot;</span><span class=nv>$command</span><span class=s2> NOT FOUND&quot;</span>
<span class=k>done</span>

<span class=c1># Enable kubectl bash_completion</span>
kubectl completion bash &gt;&gt;  ~/.bash_completion
. /etc/profile.d/bash_completion.sh
. ~/.bash_completion
</code></pre></div> </li> </ul> </li> <li> <p>Create IAM role named <code>eks-blueprints-cdk-workshop-admin</code> with AdministratorAccess, and modify the Cloud9, EC2 instance IAM role in <code>Actions &gt; Security &gt; Modify IAM Role.</code></p> </li> <li>Update Cloud9 workspace to disable Cloud9 to manage IAM credentials dynamically (This is not compatible with the EKS IAM authentication). <code>Gear &gt; AWS Settings &gt;</code> . </li> <li> <p>Save region and account as env variable and configure aws CLI:</p> <div class=highlight><pre><span></span><code><span class=nb>echo</span> <span class=s2>&quot;export ACCOUNT_ID=</span><span class=si>${</span><span class=nv>ACCOUNT_ID</span><span class=si>}</span><span class=s2>&quot;</span> <span class=p>|</span> tee -a ~/.bash_profile
<span class=nb>echo</span> <span class=s2>&quot;export AWS_REGION=</span><span class=si>${</span><span class=nv>AWS_REGION</span><span class=si>}</span><span class=s2>&quot;</span> <span class=p>|</span> tee -a ~/.bash_profile
aws configure <span class=nb>set</span> default.region <span class=si>${</span><span class=nv>AWS_REGION</span><span class=si>}</span>
aws configure get default.region

<span class=c1># validate that the Cloud9 IDE is using the correct IAM role</span>
aws sts get-caller-identity --query Arn <span class=p>|</span> grep eks-blueprints-cdk-workshop-admin -q <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=s2>&quot;IAM role valid&quot;</span> <span class=o>||</span> <span class=nb>echo</span> <span class=s2>&quot;IAM role NOT valid&quot;</span>
</code></pre></div> </li> <li> <p>If not done before, bootstrap CDK (the following command is to bootstrap CDK in 3 regions)</p> <div class=highlight><pre><span></span><code>cdk bootstrap --trust<span class=o>=</span><span class=nv>$ACCOUNT_ID</span> <span class=se>\</span>
  --cloudformation-execution-policies arn:aws:iam::aws:policy/AdministratorAccess <span class=se>\</span>
    aws://<span class=nv>$ACCOUNT_ID</span>/<span class=nv>$AWS_REGION</span> aws://<span class=nv>$ACCOUNT_ID</span>/us-east-2 aws://<span class=nv>$ACCOUNT_ID</span>/us-east-1
</code></pre></div> </li> <li> <p>Create Encryption Key in KMS </p> <div class=highlight><pre><span></span><code>aws kms create-alias --alias-name alias/myKey --target-key-id <span class=k>$(</span>aws kms create-key --query KeyMetadata.Arn --output text<span class=k>)</span>
aws kms describe-key --key-id alias/myKey
</code></pre></div> </li> <li> <p>Declare a cluster using a config file like (labs/eks/eks-cluster.yam) and use <code>eksctl create cluster -f eks-cluster.yaml</code></p> </li> <li>Update the kubeconfig file to interact with you cluster: <code>aws eks update-kubeconfig --name eksworkshop-eksctl --region ${AWS_REGION}</code></li> </ol> <hr> <ul> <li> <p>To use GitOps approach create a <code>CodeCommit</code> Repository. If using GitHub, needs to set Personal Access Token</p> <div class=highlight><pre><span></span><code>aws codecommit create-repository --repository-name my-eks-blueprints-pipeline 
</code></pre></div> <h2 id=deeper-dive>Deeper Dive<a class=headerlink href=#deeper-dive title="Permanent link">&para;</a></h2> </li> <li> <p><a href=https://docs.aws.amazon.com/eks/latest/userguide/what-is-eks.html>Product documentation - Elastic Kubernetes Service</a></p> </li> <li><a href=https://www.eksworkshop.com/ >EKS workshops</a></li> <li><a href=https://catalog.workshops.aws/eks-blueprints-for-cdk/en-US>EKS Blueprints for CDK Workshop</a></li> <li><a href=https://docs.aws.amazon.com/eks/latest/userguide/getting-started-eksctl.html>Getting started with Amazon EKS â€“ eksctl</a></li> <li><a href=https://aws.github.io/aws-eks-best-practices/ >EKS Best Practices Guides</a></li> <li><a href=https://aws.amazon.com/blogs/containers/bootstrapping-clusters-with-eks-blueprints/ >EKS Blueprint</a></li> <li><a href=https://aws-ia.github.io/terraform-aws-eks-blueprints/getting-started/ >Amazon EKS Blueprints for Terraform</a></li> <li><a href=https://catalog.us-east-1.prod.workshops.aws/workshops/e04c0885-830a-479b-844b-4c7af79697f8/en-US>EKS SaaS workshop</a></li> </ul> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../apigtw/ class="md-footer__link md-footer__link--prev" aria-label="Previous: API Gateway" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> API Gateway </div> </div> </a> <a href=../eventbridge/ class="md-footer__link md-footer__link--next" aria-label="Next: EventBridge" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> EventBridge </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.annotate", "content.tooltips", "navigation.instant", "navigation.tracking", "navigation.tabs.sticky"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../assets/javascripts/bundle.9c69f0bc.min.js></script> </body> </html>